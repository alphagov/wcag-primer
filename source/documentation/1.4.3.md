#### [1.4.3 Contrast minimum (AA)](https://www.w3.org/TR/UNDERSTANDING-WCAG20/visual-audio-contrast-contrast.html)

**This is a proof of concept on how a page from the [accessibility testing guide](https://github.com/alphagov/wcag-primer/wiki) might fit into the Primer.**

##### [WCAG says](https://www.w3.org/TR/WCAG21/#contrast-minimum):

> The visual presentation of text and images of text has a contrast ratio of at least 4.5:1, except for the following:
>
> **Large Text:** Large-scale text and images of large-scale text have a contrast ratio of at least 3:1;
>
> **Incidental:** Text or images of text that are part of an inactive user interface component, that are pure decoration, that are not visible to anyone, or that are part of a picture that contains significant other visual content, have no contrast requirement.
>
> **Logotypes:** Text that is part of a logo or brand name has no contrast requirement.

##### What this means

Text must have a contrast ratio of at least 4.5:1 against its background colour. This makes content easier for everyone to read, but especially partially sighted people.

##### When this is applicable

If there is text, including images of text.

##### Check colour contrasts

Use the [WAVE extension](https://wave.webaim.org/extension/) but if any of the results are unclear, you can use:

* the browser's inspection tool to:
  * find colour values and font sizes
  * find colours on hover using the ":hov" feature (called 'force element state' in Chrome - it might be called something else in other browsers)
  * use the built-in colour contrast analyser (many modern inspectors have this)
* the [Color Contrast Analyser](https://www.tpgi.com/color-contrast-checker/)
* zoom to help pick a colour of a thin font or small text - pinch zoom with a trackpad will retain the page in desktop view
* screenshots to help capture values from elements that are difficult to inspect, for example ones that change colours on hover, are small and change their size when zooming in, or have a thin font

Note that using the browser's inspection tool might not provide a value that exactly matches the visual colour due to the way styles are applied for example, because of transparency.

Identify all text (including placeholder text and text inside form elements) and images of text.

Check:

* contrast is sufficient based on the font size and weight ([large text](https://www.w3.org/WAI/WCAG21/Understanding/contrast-minimum.html#dfn-large-scale) is considered as at least 18pt or 14pt bold) - if you're not sure from a visual check, use the tools above
* different states of elements, like hover, focus and unvisited for links, or hover, focus and active for buttons - you might not need to check these specifically because you will have noticed the different states while testing other things

You do not need to actively test for other combinations like focussing and hovering over a link at the same time, active link and button states, selected text or `:target`. However, if you come across contrast issues with these combinations, they also fail.

##### Check colour switcher

* if the checks fail, check if there is a colour switcher (widget, tool, overlay for accessibility) that is easy to find
* check the switcher itself meets colour contrast, as well as text on the page after using it and that no information or functionality is lost
* if the switcher offers various colour options, only one of them needs to meet this requirement

A colour switcher is one way to conform because it counts as a [conforming alternate version](https://www.w3.org/TR/WCAG21/#dfn-conforming-alternate-version).

##### Exceptions

* inactive elements
* hidden elements (visually and programmatically hidden) - sometimes a checker might pick hidden text up as failing
* logos
* words that are used decoratively (having no significant meaning)
* images that are not primarily about the text they contain, such as screenshots, diagrams and graphs, or photos that include objects with text like street signs

##### Best practice

* all text elements should have a foreground and background colour defined (not the default browser colours) - when overriding base colours, either both colours should change or neither should change (this is required in 1.4.8 for AAA)
* graphs should also meet the contrast requirements
* the page should ideally meet contrast requirements without a colour switcher, but if it needs a colour switcher, it should be at the top of the page

##### Other ways to test

To get colour values of HTML elements (but not images) use the browser's inspection tool.

Other contrast analysers include:

* [WebAIM's Contrast Checker](https://webaim.org/resources/contrastchecker/)
* [Contrast checker by Dave House and Nick Colley](https://contrast-checker.glitch.me/)

Other checkers include:

* [axe](https://www.deque.com/axe/browser-extensions/)
* [Siteimprove](https://www.siteimprove.com/integrations/browser-extensions/)

To check images and other graphic elements, many graphic viewers and editors like Photoshop allow you to get colour values.

##### Mobile app testing

Do a visual check for likely contrast issues. If unsure whether something passes, take a screenshot and test it on a desktop.

On Android, contrast issues might also be picked up by the [Android accessibility scanner](https://support.google.com/accessibility/android/answer/6376559?hl=en-GB&ref_topic=6376582#zippy=%2Clow-contrast).
